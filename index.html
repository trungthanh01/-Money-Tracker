<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr√¨nh Qu·∫£n L√Ω T√†i Ch√≠nh</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="./Front-End/src/style/color/root.css">
    <link rel="stylesheet" href="./Front-End/src/style/main/dashboard.css">
    <link rel="stylesheet" href="./Front-End/src/style/main/mobile.css">
    <link rel="stylesheet" href="./Front-End/src/style/main/setting.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <button id="mobile-menu-btn" class="hamburger-btn">
                </button>
                <div class="app-logo">
                    <div class="logo-icon"><span>üí∞</span></div>
                    <h1 data-i18n="header.title">Tr√¨nh Qu·∫£n L√Ω T√†i Ch√≠nh</h1>
                </div>
                <div class="header-subtitle" data-i18n="header.subtitle">D·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u tr√™n tr√¨nh duy·ªát n√†y</div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu-overlay" class="mobile-menu-overlay"></div>
    <nav id="mobile-menu" class="mobile-nav">
        <div class="mobile-nav-header">
            <h2 class="mobile-nav-title">Menu</h2>
            <button id="mobile-menu-close" class="close-btn" cursor="pointer">X</button>
        </div>
        <div class="mobile-nav-links">
            <button class="mobile-tab-btn active" data-tab="dashboard" data-i18n="navigation.dashboard">B·∫£ng Tin</button>
            <button class="mobile-tab-btn" data-tab="investment" data-i18n="navigation.investment">ƒê·∫ßu T∆∞</button>
            <button class="mobile-tab-btn" data-tab="learning" data-i18n="navigation.learning">H·ªçc T·∫≠p</button>
            <button class="mobile-tab-btn" data-tab="settings" data-i18n="navigation.settings">C√†i ƒê·∫∑t</button>
        </div>
    </nav>

    <!-- Desktop Navigation -->
    <nav class="desktop-nav">
        <div class="container">
            <div class="desktop-nav-links">
                <button class="tab-btn active" data-tab="dashboard" data-i18n="navigation.dashboard">B·∫£ng Tin</button>
                <button class="tab-btn" data-tab="investment" data-i18n="navigation.investment">ƒê·∫ßu T∆∞</button>
                <button class="tab-btn" data-tab="learning" data-i18n="navigation.learning">H·ªçc T·∫≠p</button>
                <button class="tab-btn" data-tab="settings" data-i18n="navigation.settings">C√†i ƒê·∫∑t</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <!-- Dashboard Tab -->
        <div id="dashboard-tab" class="tab-content">
            <div class="dashboard-grid">
                <div class="card summary-card">
                    <div class="summary-card-header">
                        <h2 data-i18n="dashboard.totalBalance">T·ªïng S·ªë D∆∞</h2>
                        <div id="total-balance">0 ‚Ç´</div>
                        <div class="summary-card-subtitle">
                            <span data-i18n="dashboard.totalSalary">T·ªïng L∆∞∆°ng</span>: <span id="total-salary">0 ‚Ç´</span>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button id="btn-add-income" class="btn btn-success" data-i18n="dashboard.addIncome">Th√™m Thu Nh·∫≠p</button>
                        <button id="btn-add-expense" class="btn btn-danger" data-i18n="dashboard.addExpense">Th√™m Chi Ti√™u</button>
                        <button id="btn-edit-salary" class="btn btn-primary" data-i18n="dashboard.editSalary">Nh·∫≠p L∆∞∆°ng</button>
                    </div>
                </div>

                <div class="card jar-grid-container">
                    <h3 class="grid-header" data-i18n="jars.title">C√°c H≈© Ti·ªÅn</h3>
                    <div id="jars-container" class="jar-grid"></div>
                </div>

                <div class="card chart-card">
                    <h3 data-i18n="dashboard.assetAllocation">Ph√¢n B·ªï T√†i S·∫£n</h3>
                    <div class="chart-wrapper"><canvas id="jar-chart"></canvas></div>
                    <div id="chart-legend" class="chart-legend"></div>
                </div>

                <div class="card transactions-card">
                    <h3 data-i18n="dashboard.recentTransactions">Giao D·ªãch G·∫ßn ƒê√¢y</h3>
                    <div id="transactions-list" class="transactions-list"></div>
                </div>
            </div>
        </div>

        <!-- Other Tabs -->
        <div id="investment-tab" class="tab-content hidden">
            <div class="card"><h2 data-i18n="tabs.investmentTitle">T√≠nh NƒÉng ƒê·∫ßu T∆∞</h2><p data-i18n="tabs.investmentDescription">...</p></div>
        </div>
        <div id="learning-tab" class="tab-content hidden">
            <div class="card"><h2 data-i18n="tabs.learningTitle">T√≠nh NƒÉng H·ªçc T·∫≠p</h2><p data-i18n="tabs.learningDescription">...</p></div>
        </div>

        <!-- Settings Tab -->
        <div id="settings-tab" class="tab-content hidden">
            <div class="settings-container">
                <div class="card settings-card">
                    <h3 class="settings-card-header" data-i18n="settings.language">Ng√¥n Ng·ªØ</h3>
                    <div class="settings-card-body">
                        <label for="language-select" class="form-label" data-i18n="settings.languageSelect">Ch·ªçn ng√¥n ng·ªØ</label>
                        <select id="language-select" class="form-control"><option value="vi">Ti·∫øng Vi·ªát</option><option value="en">English</option></select>
                    </div>
                </div>
                <div class="card settings-card">
                    <h3 class="settings-card-header" data-i18n="settings.currency">ƒê∆°n V·ªã Ti·ªÅn T·ªá</h3>
                    <div class="settings-card-body">
                        <label for="currency-select" class="form-label" data-i18n="settings.currencySelect">Ch·ªçn ƒë∆°n v·ªã ti·ªÅn t·ªá</label>
                        <select id="currency-select" class="form-control"></select>
                        <p class="form-description" data-i18n="settings.currencyDescription">...</p>
                    </div>
                </div>
                <div class="card settings-card">
                    <h3 class="settings-card-header" data-i18n="settings.dataManagement">Qu·∫£n L√Ω D·ªØ Li·ªáu</h3>
                    <div class="settings-card-body">
                        <div class="data-actions">
                            <button id="export-data-btn" class="btn btn-success" data-i18n="settings.exportData">Xu·∫•t</button>
                            <button id="import-data-btn" class="btn btn-warning" data-i18n="settings.importData">Nh·∫≠p</button>
                            <button id="reset-data-btn" class="btn btn-danger" data-i18n="settings.resetData">Reset</button>
                        </div>
                        <p class="form-description" data-i18n="settings.dataDescription">...</p>
                    </div>
                </div>
                 <div class="card settings-card">
                    <h3 class="settings-card-header" data-i18n="settings.support">H·ªó Tr·ª£</h3>
                    <div class="settings-card-body">
                        <div class="support-contact">
                            <div>
                                <div class="support-title" data-i18n="settings.contactSupport">Li√™n H·ªá</div>
                                <div class="support-description" data-i18n="settings.supportDescription">...</div>
                            </div>
                            <a href="mailto:trungthanh.marcus@gmail.com" id="contact-support-btn" class="btn btn-primary" data-i18n="settings.sendEmail">G·ª≠i Email</a>
                        </div>
                        <div class="support-details">
                            <p><strong data-i18n="settings.supportEmail">Email</strong>: <span>trungthanh.marcus@gmail.com</span></p>
                            <p><strong data-i18n="settings.responseTime">Ph·∫£n h·ªìi</strong>: <span data-i18n="settings.responseTimeValue">24-48 gi·ªù</span></p>
                        </div>
                    </div>
                </div>
                <div class="card settings-card">
                    <h3 class="settings-card-header" data-i18n="settings.appInfo">Th√¥ng Tin</h3>
                     <div class="info-list">
                        <p><strong data-i18n="settings.version">Phi√™n b·∫£n</strong>: <span>1.0.0</span></p>
                        <p><strong data-i18n="settings.lastUpdate">C·∫≠p nh·∫≠t</strong>: <span>08/2025</span></p>
                        <p><strong data-i18n="settings.technology">C√¥ng ngh·ªá</strong>: <span>Cursor AI</span></p>
                        <p><strong data-i18n="settings.storage">L∆∞u tr·ªØ</strong>: <span>LocalStorage</span></p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <div id="transaction-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 id="modal-title" class="modal-header">Th√™m Giao D·ªãch</h3>
            <form id="transaction-form">
                <div class="form-group">
                    <label for="amount-input" class="form-label" data-i18n="modals.amount">S·ªë ti·ªÅn</label>
                    <input type="text" inputmode="numeric" id="amount-input" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="description-input" class="form-label" data-i18n="modals.description">M√¥ t·∫£</label>
                    <input type="text" id="description-input" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="jar-select" class="form-label" data-i18n="modals.selectJar">Ch·ªçn h·ªß</label>
                    <select id="jar-select" class="form-control" required></select>
                </div>
                <div class="modal-actions">
                    <button type="button" id="cancel-btn" class="btn btn-secondary" data-i18n="modals.cancel">H·ªßy</button>
                    <button type="submit" class="btn btn-primary" data-i18n="modals.save">L∆∞u</button>
                </div>
            </form>
        </div>
    </div>

    <div id="salary-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 class="modal-header" data-i18n="modals.editSalaryTitle">Nh·∫≠p L∆∞∆°ng & T·ªâ L·ªá</h3>
            <form id="salary-form">
                <div class="form-group">
                    <label for="salary-input" class="form-label" data-i18n="modals.monthlySalary">L∆∞∆°ng th√°ng</label>
                    <input type="text" inputmode="numeric" id="salary-input" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label" data-i18n="modals.jarRatios">T·ªâ l·ªá c√°c h·ªß (%)</label>
                    <div id="jar-ratios-grid" class="jar-ratios-grid"></div>
                    <div class="total-ratio"><span data-i18n="modals.total">T·ªïng</span>: <span id="total-ratio">100</span>%</div>
                </div>
                <div class="modal-actions">
                    <button type="button" id="cancel-salary-btn" class="btn btn-secondary" data-i18n="modals.cancel">H·ªßy</button>
                    <button type="submit" class="btn btn-primary" data-i18n="modals.save">L∆∞u</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Utilities -->
    <input type="file" id="import-file-input" accept=".json" style="display: none;">
    <div id="toast-container"></div>

    <!-- Main Script -->
    <script type="module" src="./Front-End/src/javascript/dashboard/dashboard.js"></script>
</body>
</html>